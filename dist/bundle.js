(()=>{"use strict";function e(){var e=document.getElementById("app"),n=document.querySelector(".radio-toolbar_input"),t=document.getElementById("radio1"),i=document.getElementById("radio2"),l=document.getElementById("radio3"),a=document.querySelector(".headFormField-timer_time-min"),c=document.querySelector(".headFormField-timer_time-sec"),s=document.querySelector(".js-btm-reset"),r=document.getElementById("game"),o=document.querySelector(".startGame"),d=document.querySelector(".lableButton1"),m=document.querySelector(".lableButton2"),u=document.querySelector(".lableButton3"),p=document.querySelectorAll(".hide"),v=document.querySelector(".difficultySelection_form-btn"),f=document.querySelector(".headForm");return{ico:document.querySelector(".ico"),headForm:f,replay:v,hides:p,lableButton1:d,lableButton2:m,lableButton3:u,startGame:o,game:r,restartGame:s,minEl:a,secEl:c,selectBtn:n,appElement:e,selectBtnOne:t,selectBtnTwo:i,selectBtnTree:l}}function n(e){window.localStorage.setItem("lvl",JSON.stringify(e))}function t(){try{return JSON.parse(window.localStorage.getItem("lvl"))}catch(e){return null}}function i(n){var t,i=n.appEl,a=(n.lvl,n.pairs),c='\n                <div class="headForm">\n                        <div class="headFormField">\n                                <div class="headFormField-timer">\n                                        <div class="headFormField-timer_title">\n                                                <li>min</li>\n                                        </div>\n                                        <div class="headFormField-timer_time headFormField-timer_time-min interval">\n                                        00\n                                        </div>\n                                </div>\n                                <div class="headFormField-timer">\n                                        <div class="headFormField-timer_title">\n                                                <li>sec</li>\n                                        </div>\n                                        <div class="headFormField-timer_time headFormField-timer_time-sec interval">\n                                        .00\n                                        </div>\n                                </div>\n                        </div>\n\n                        <div><img  class="ico" src="./img/free-icon-watch-8839019.png"></img></div>\n\n                        <div class="headForm-btn buttons">\n                                <button class="btn js-btm-reset">Начать заново</button>\n                        </div>\n                </div>\n                <div class="container">\n                '.concat(a?'<div id="game" class="game">':alert("ВЫ не выбрали сложность !!!"),"                \n                        </div>\n                </div>\n                ");i.innerHTML=c;var s=0,r=0,o=0;function d(){++o>99&&(r++,e().secEl.innerHTML=".0"+r,o=0),r<=9&&(e().secEl.innerHTML=".0"+r),r>9&&(e().secEl.innerHTML="."+r),r>59&&(s++,e().minEl.innerHTML="0"+s,r=0,e().secEl.innerHTML=".0"+r),s>9&&(e().minEl.innerHTML="."+s)}setTimeout((function(){clearInterval(t),t=setInterval(d,10)}),5e3);var m=["6b.png","6c.png","6k.png","6c.png","7b.png","7c.png","7k.png","7c.png","8b.png","8c.png","8k.png","8c.png","9b.png","9c.png","9k.png","9c.png","10b.png","10c.png","10k.png","10c.png","Jb.png","Jc.png","Jk.png","Jc.png","Qb.png","Qc.png","Qk.png","Qc.png","Kb.png","Kc.png","Kk.png","Kc.png","Ab.png","Ac.png","Ak.png","Ac.png"],u=null,p=null,v=[];function f(e){e.sort((function(){return Math.random()-.5}))}f(m);for(var g=0,b=1;g<2*a;++b,g+=2)v.push({index:g,card:m[b]},{index:g+1,card:m[b]});switch(f(v),a){case 3:game.style="grid-template-columns: repeat(3, 1fr);";break;case 6:game.style="grid-template-columns: repeat(4, 1fr);";break;case 9:game.style="grid-template-columns: repeat(9, 2fr);"}for(var y=function(n){var a=document.createElement("img");a.src="./img/".concat(n.card),a.index=n.index,setTimeout((function(){e().restartGame.addEventListener("click",(function(){clearInterval(t),l({appEl:e().appElement})})),e().restartGame.style.background="#7ac100",a.setAttribute("src","./img/hide.png"),a.classList.add("flip-scale-up-hor"),a.classList.add("cardHide"),a.setAttribute("id","checkCards"),a.setAttribute("id","".concat(a.index)),e().ico.style.display="none"}),5e3),e().ico.style.display="flex",e().restartGame.style.background="red",e().game.append(a),setTimeout((function(){a.addEventListener("click",(function(){a.src="./img/".concat(n.card),console.log("карта по которой клик",a,a.index),null===u?(u=a,console.log("firstCard",u),u.classList.add("flip-scale-up-hor")):null===p&&u.index!==a.index&&(p=a,console.log("secundCard",p),p.classList.add("flip-scale-up-hor"),setTimeout((function(){null!==u&&null!==p&&u.index!==p.index&&u.src===p.src&&(console.log("Карточки совпали"),u.classList.add("hide"),p.classList.add("hide"),u=null,p=null),v.length===e().hides.length&&setTimeout((function(){clearInterval(t),function(n){var t=n.appEl,i=n.sec,a='\n                        <div class="difficultySelection main">\n                                <div class="difficultySelection_forms">\n                                        <img src="./img/celebration.png" alt="">\n                                        <li class="difficultySelection_form-text">\n                                        Вы выиграли!\n                                        </li>\n                                </div>\n                        <div class="prod_checbox">\n                                <li class="difficultySelection_text-time">\n                                        Затраченное время:\n                                </li>\n                                <div class="timerTime">\n                                        <li class="difficultySelection_text-timerMin timerTimes">'.concat(n.min).concat(i,'</li>\n                                </div>\n\n                        </div>\n                        <div>\n                                <button class="difficultySelection_form-btn startGame">Играть снова</button>\n                        </div>\n                        </div>');t.innerHTML=a,e().replay.addEventListener("click",(function(){l({appEl:e().appElement})}))}({appEl:i,min:e().minEl.innerHTML,sec:e().secEl.innerHTML})}),400),null!==u&&null!==p&&(clearInterval(t),console.log("Карточки не совпали"),function(n){var t=n.appEl,i=n.sec,a='\n                        <div class="difficultySelection main">\n                                <div class="difficultySelection_forms">\n                                        <img src="./img/dead.png" alt="">\n                                        <li class="difficultySelection_form-text">\n                                        Вы проиграли!\n                                        </li>\n                                </div>\n                        <div class="prod_checbox">\n                                <li class="difficultySelection_text-time">\n                                        Затраченное время:\n                                </li>\n                                <div class="timerTime">\n                                        <li class="difficultySelection_text-timerMin timerTimes">'.concat(n.min).concat(i,'</li>\n                                </div>\n\n                        </div>\n                        <div>\n                                <button class="difficultySelection_form-btn startGame">Играть снова</button>\n                        </div>\n                        </div>');t.innerHTML=a,e().replay.addEventListener("click",(function(){l({appEl:e().appElement})}))}({appEl:i,min:e().minEl.innerHTML,sec:e().secEl.innerHTML}))}),400))}))}),5e3)},E=0,h=v;E<h.length;E++)y(g=h[E])}function l(l){l.appEl.innerHTML='\n    <div class="difficultySelection main">\n    <div class="difficultySelection_form">\n        <li class="difficultySelection_form-text">\n            Выбери сложность\n        </li>\n    </div>\n    <div class="prod_checbox">\n        <div class="radio-toolbar">\n            <input\n                class="radio-toolbar_input"\n                type="radio"\n                id="radio1"\n                name="radios"\n                value="radio1"\n                checked\n            />\n            <label for="radio1" class="lableButton1">1</label>\n\n            <input\n                class="radio-toolbar_input"\n                type="radio"\n                id="radio2"\n                name="radios"\n                value="radio2"\n            />\n            <label for="radio2" class="lableButton2">2</label>\n\n            <input\n                class="radio-toolbar_input"\n                type="radio"\n                id="radio3"\n                name="radios"\n                value="radio3"\n            />\n            <label for="radio3" class="lableButton3">3</label>\n        </div>\n    </div>\n    <div>\n        <button class="difficultySelection_form-btn startGame">Старт</button>\n    </div>\n</div>',e().selectBtnOne.addEventListener("click",(function(){n(1),e().lableButton2.classList.remove("active"),e().lableButton3.classList.remove("active"),e().lableButton1.classList.add("active")})),e().selectBtnTwo.addEventListener("click",(function(){n(2),e().lableButton1.classList.remove("active"),e().lableButton3.classList.remove("active"),e().lableButton2.classList.add("active")})),e().selectBtnTree.addEventListener("click",(function(){n(3),e().lableButton1.classList.remove("active"),e().lableButton2.classList.remove("active"),e().lableButton3.classList.add("active")})),e().startGame.addEventListener("click",(function(){1===t()?i({appEl:e().appElement,lvl:t(),pairs:3}):2===t()?i({appEl:e().appElement,lvl:t(),pairs:6}):3===t()&&i({appEl:e().appElement,lvl:t(),pairs:9})}))}l({appEl:e().appElement})})();