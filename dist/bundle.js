(()=>{"use strict";function e(){var e=document.getElementById("app"),n=document.querySelector(".radio-toolbar_input"),t=document.getElementById("radio1"),i=document.getElementById("radio2"),l=document.getElementById("radio3"),a=document.querySelector(".headFormField-timer_time-min"),c=document.querySelector(".headFormField-timer_time-sec"),r=document.querySelector(".js-btm-reset"),s=document.getElementById("game"),o=document.querySelector(".startGame"),d=document.querySelector(".lableButton1"),m=document.querySelector(".lableButton2"),u=document.querySelector(".lableButton3"),p=document.querySelectorAll(".hide"),v=document.querySelector(".difficultySelection_form-btn"),f=document.querySelector(".headForm");return{ico:document.querySelector(".ico"),headForm:f,replay:v,hides:p,lableButton1:d,lableButton2:m,lableButton3:u,startGame:o,game:s,restartGame:r,minEl:a,secEl:c,selectBtn:n,appElement:e,selectBtnOne:t,selectBtnTwo:i,selectBtnTree:l}}function n(e){window.localStorage.setItem("lvl",JSON.stringify(e))}function t(){try{return JSON.parse(window.localStorage.getItem("lvl"))}catch(e){return null}}var i,l=0,a=0,c=0,r=null,s=null;function o(){++c>99&&(a++,e().secEl.innerHTML=".0"+a,c=0),a<=9&&(e().secEl.innerHTML=".0"+a),a>9&&(e().secEl.innerHTML="."+a),a>59&&(l++,e().minEl.innerHTML="0"+l,a=0,e().secEl.innerHTML=".0"+a),l>9&&(e().minEl.innerHTML="."+l)}function d(){clearInterval(i),i=setInterval(o,10)}function m(n){var t=n.appEl,l=(n.lvl,n.pairs),a='\n                <div class="headForm">\n                        <div class="headFormField">\n                                <div class="headFormField-timer">\n                                        <div class="headFormField-timer_title">\n                                                <li>min</li>\n                                        </div>\n                                        <div class="headFormField-timer_time headFormField-timer_time-min interval">\n                                        00\n                                        </div>\n                                </div>\n                                <div class="headFormField-timer">\n                                        <div class="headFormField-timer_title">\n                                                <li>sec</li>\n                                        </div>\n                                        <div class="headFormField-timer_time headFormField-timer_time-sec interval">\n                                        .00\n                                        </div>\n                                </div>\n                        </div>\n\n                        <div><img  class="ico" src="./img/forward.png"></img></div>\n\n                        <div class="headForm-btn buttons">\n                                <button class="btn js-btm-reset">Начать заново</button>\n                        </div>\n                </div>\n                <div class="container">\n                '.concat(l?'<div id="game" class="game">':alert("ВЫ не выбрали сложность !!!"),"                \n                        </div>\n                </div>\n                ");t.innerHTML=a,setTimeout(d,5e3);var c=["6b.png","6c.png","6k.png","6c.png","7b.png","7c.png","7k.png","7c.png","8b.png","8c.png","8k.png","8c.png","9b.png","9c.png","9k.png","9c.png","10b.png","10c.png","10k.png","10c.png","Jb.png","Jc.png","Jk.png","Jc.png","Qb.png","Qc.png","Qk.png","Qc.png","Kb.png","Kc.png","Kk.png","Kc.png","Ab.png","Ac.png","Ak.png","Ac.png"],o=[];c.sort((function(){return Math.random()-.5}));for(var m=0,p=1;m<2*l;++p,m+=2)o.push({index:m,card:c[p]},{index:m+1,card:c[p]});o.sort((function(){return Math.random()-.5}));for(var v=function(n){var l=document.createElement("img");l.src="./img/".concat(n.card);var a=n.index;setTimeout((function(){!function(n){var t=n.img,l=n.index;e().restartGame.addEventListener("click",(function(){clearInterval(i),u({appEl:e().appElement})})),e().restartGame.style.background="#7ac100",t.setAttribute("src","./img/hide.png"),t.classList.add("flip-scale-up-hor"),t.classList.add("cardHide"),t.setAttribute("id","checkCards"),t.setAttribute("id","".concat(l)),e().ico.style.display="none"}({img:l,index:a})}),5e3),e().ico.style.display="flex",e().restartGame.style.background="red",e().game.append(l),setTimeout((function(){!function(n){var t=n.img,l=n.appEl,a=n.cardsArray,c=n.src;t.addEventListener("click",(function(){t.src="./img/".concat(c),null===r?(r=t,console.log("firstCard",r),r.classList.add("flip-scale-up-hor")):null===s&&(s=t,console.log("secundCard",s),s.classList.add("flip-scale-up-hor"),setTimeout((function(){null!==r&&null!==s&&r.id!==s.id&&r.src===s.src&&(console.log("Карточки совпали"),r.classList.add("hide"),s.classList.add("hide"),r=null,s=null),a.length===e().hides.length&&setTimeout((function(){clearInterval(i),function(n){var t=n.appEl,i=n.sec,l='\n                        <div class="difficultySelection main">\n                                <div class="difficultySelection_forms">\n                                        <img src="./img/celebration.png" alt="">\n                                        <li class="difficultySelection_form-text">\n                                        Вы выиграли!\n                                        </li>\n                                </div>\n                        <div class="prod_checbox">\n                                <li class="difficultySelection_text-time">\n                                        Затраченное время:\n                                </li>\n                                <div class="timerTime">\n                                        <li class="difficultySelection_text-timerMin timerTimes">'.concat(n.min).concat(i,'</li>\n                                </div>\n\n                        </div>\n                        <div>\n                                <button class="difficultySelection_form-btn startGame">Играть снова</button>\n                        </div>\n                        </div>');t.innerHTML=l,e().replay.addEventListener("click",(function(){u({appEl:e().appElement})}))}({appEl:l,min:e().minEl.innerHTML,sec:e().secEl.innerHTML})}),400),null!==r&&null!==s&&(clearInterval(i),console.log("Карточки не совпали"),function(n){var t=n.appEl,i=n.sec,l='\n                        <div class="difficultySelection main">\n                                <div class="difficultySelection_forms">\n                                        <img src="./img/dead.png" alt="">\n                                        <li class="difficultySelection_form-text">\n                                        Вы проиграли!\n                                        </li>\n                                </div>\n                        <div class="prod_checbox">\n                                <li class="difficultySelection_text-time">\n                                        Затраченное время:\n                                </li>\n                                <div class="timerTime">\n                                        <li class="difficultySelection_text-timerMin timerTimes">'.concat(n.min).concat(i,'</li>\n                                </div>\n\n                        </div>\n                        <div>\n                                <button class="difficultySelection_form-btn startGame">Играть снова</button>\n                        </div>\n                        </div>');t.innerHTML=l,e().replay.addEventListener("click",(function(){u({appEl:e().appElement})}))}({appEl:l,min:e().minEl.innerHTML,sec:e().secEl.innerHTML}))}),400))}))}({img:l,appEl:t,cardsArray:o,src:n.card})}),5e3)},f=0,g=o;f<g.length;f++)v(m=g[f])}function u(i){i.appEl.innerHTML='\n    <div class="difficultySelection main">\n    <div class="difficultySelection_form">\n        <li class="difficultySelection_form-text">\n            Выбери сложность\n        </li>\n    </div>\n    <div class="prod_checbox">\n        <div class="radio-toolbar">\n            <input\n                class="radio-toolbar_input"\n                type="radio"\n                id="radio1"\n                name="radios"\n                value="radio1"\n                checked\n            />\n            <label for="radio1" class="lableButton1">1</label>\n\n            <input\n                class="radio-toolbar_input"\n                type="radio"\n                id="radio2"\n                name="radios"\n                value="radio2"\n            />\n            <label for="radio2" class="lableButton2">2</label>\n\n            <input\n                class="radio-toolbar_input"\n                type="radio"\n                id="radio3"\n                name="radios"\n                value="radio3"\n            />\n            <label for="radio3" class="lableButton3">3</label>\n        </div>\n    </div>\n    <div>\n        <button class="difficultySelection_form-btn startGame">Старт</button>\n    </div>\n</div>',e().selectBtnOne.addEventListener("click",(function(){n(1),e().lableButton2.classList.remove("active"),e().lableButton3.classList.remove("active"),e().lableButton1.classList.add("active")})),e().selectBtnTwo.addEventListener("click",(function(){n(2),e().lableButton1.classList.remove("active"),e().lableButton3.classList.remove("active"),e().lableButton2.classList.add("active")})),e().selectBtnTree.addEventListener("click",(function(){n(3),e().lableButton1.classList.remove("active"),e().lableButton2.classList.remove("active"),e().lableButton3.classList.add("active")})),e().startGame.addEventListener("click",(function(){1===t()?m({appEl:e().appElement,lvl:t(),pairs:3}):2===t()?m({appEl:e().appElement,lvl:t(),pairs:6}):3===t()&&m({appEl:e().appElement,lvl:t(),pairs:9})}))}u({appEl:e().appElement})})();