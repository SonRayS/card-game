(()=>{"use strict";function e(){var e=document.getElementById("app"),n=document.querySelector(".radio-toolbar_input"),t=document.getElementById("radio1"),i=document.getElementById("radio2"),l=document.getElementById("radio3"),a=document.querySelector(".headFormField-timer_time-min"),c=document.querySelector(".headFormField-timer_time-sec"),r=document.querySelector(".js-btm-reset"),s=document.getElementById("game"),o=document.querySelector(".startGame"),d=document.querySelector(".lableButton1"),m=document.querySelector(".lableButton2"),u=document.querySelector(".lableButton3"),p=document.querySelectorAll(".hide"),v=document.querySelector(".difficultySelection_form-btn"),g=document.querySelector(".headForm");return{ico:document.querySelector(".ico"),headForm:g,replay:v,hides:p,lableButton1:d,lableButton2:m,lableButton3:u,startGame:o,game:s,restartGame:r,minEl:a,secEl:c,selectBtn:n,appElement:e,selectBtnOne:t,selectBtnTwo:i,selectBtnTree:l}}function n(e){window.localStorage.setItem("lvl",JSON.stringify(e))}function t(){try{return JSON.parse(window.localStorage.getItem("lvl"))}catch(e){return null}}function i(n){var t=n.appEl,i=n.min,l=n.sec,a=n.resultGame,c='\n                        <div class="difficultySelection main">\n                                <div class="difficultySelection_forms">\n                                '.concat(a?'<img src="./img/celebration.png" alt="">':'<img src="./img/dead.png" alt="">','\n                                        <li class="difficultySelection_form-text">\n                                        ').concat(a?"Вы выиграли!":"Вы проиграли!",'\n                                        </li>\n                                </div>\n                        <div class="prod_checbox">\n                                <li class="difficultySelection_text-time">\n                                        Затраченное время:\n                                </li>\n                                <div class="timerTime">\n                                        <li class="difficultySelection_text-timerMin timerTimes">').concat(i).concat(l,'</li>\n                                </div>\n\n                        </div>\n                        <div>\n                                <button class="difficultySelection_form-btn startGame">Играть снова</button>\n                        </div>\n                        </div>');t.innerHTML=c,e().replay.addEventListener("click",(function(){p({appEl:e().appElement})}))}var l,a=0,c=0,r=0,s=null,o=null;function d(){++r>99&&(c++,e().secEl.innerHTML=".0"+c,r=0),c<=9&&(e().secEl.innerHTML=".0"+c),c>9&&(e().secEl.innerHTML="."+c),c>59&&(a++,e().minEl.innerHTML="0"+a,c=0,e().secEl.innerHTML=".0"+c),a>9&&(e().minEl.innerHTML="."+a)}function m(){a=0,c=0,r=0,clearInterval(l),l=setInterval(d,10)}function u(n){var t=n.appEl,a=(n.lvl,n.pairs),c='\n                <div class="headForm">\n                        <div class="headFormField">\n                                <div class="headFormField-timer">\n                                        <div class="headFormField-timer_title">\n                                                <li>min</li>\n                                        </div>\n                                        <div class="headFormField-timer_time headFormField-timer_time-min interval">\n                                        00\n                                        </div>\n                                </div>\n                                <div class="headFormField-timer">\n                                        <div class="headFormField-timer_title">\n                                                <li>sec</li>\n                                        </div>\n                                        <div class="headFormField-timer_time headFormField-timer_time-sec interval">\n                                        .00\n                                        </div>\n                                </div>\n                        </div>\n\n                        <div><img  class="ico" src="./img/forward.png"></img></div>\n\n                        <div class="headForm-btn buttons">\n                                <button class="btn js-btm-reset">Начать заново</button>\n                        </div>\n                </div>\n                <div class="container">\n                '.concat(a?'<div id="game" class="game">':alert("ВЫ не выбрали сложность !!!"),"                \n                        </div>\n                </div>\n                ");t.innerHTML=c,setTimeout(m,5e3);var r=["6b.png","6c.png","6k.png","6c.png","7b.png","7c.png","7k.png","7c.png","8b.png","8c.png","8k.png","8c.png","9b.png","9c.png","9k.png","9c.png","10b.png","10c.png","10k.png","10c.png","Jb.png","Jc.png","Jk.png","Jc.png","Qb.png","Qc.png","Qk.png","Qc.png","Kb.png","Kc.png","Kk.png","Kc.png","Ab.png","Ac.png","Ak.png","Ac.png"],d=[];r.sort((function(){return Math.random()-.5}));for(var u=0,v=1;u<2*a;++v,u+=2)d.push({index:u,card:r[v]},{index:u+1,card:r[v]});switch(d.sort((function(){return Math.random()-.5})),a){case 3:game.style="grid-template-columns: repeat(3, 1fr);";break;case 6:game.style="grid-template-columns: repeat(4, 1fr);";break;case 9:game.style="grid-template-columns: repeat(9, 2fr);"}for(var g=function(n){var a=document.createElement("img");a.src="./img/".concat(n.card);var c=n.index;setTimeout((function(){!function(n){var t=n.img,i=n.index;e().restartGame.addEventListener("click",(function(){clearInterval(l),p({appEl:e().appElement})})),e().restartGame.style.background="#7ac100",t.setAttribute("src","./img/hide.png"),t.classList.add("flip-scale-up-hor"),t.classList.add("cardHide"),t.setAttribute("id","checkCards"),t.setAttribute("id","".concat(i)),e().ico.style.display="none"}({img:a,index:c})}),5e3),e().ico.style.display="flex",e().restartGame.style.background="red",e().game.append(a),setTimeout((function(){!function(n){var t=n.img,a=n.appEl,c=n.cardsArray,r=n.src,d=n.resultGame;t.addEventListener("click",(function(){t.src="./img/".concat(r),null===s?(s=t,console.log("firstCard",s),s.classList.add("flip-scale-up-hor")):null===o&&(o=t,console.log("secundCard",o),o.classList.add("flip-scale-up-hor"),setTimeout((function(){null!==s&&null!==o&&s.id!==o.id&&s.src===o.src&&(console.log("Карточки совпали"),s.classList.add("hide"),o.classList.add("hide"),s=null,o=null),c.length===e().hides.length&&setTimeout((function(){clearInterval(l),i({appEl:a,min:e().minEl.innerHTML,sec:e().secEl.innerHTML,resultGame:d})}),200),null!==s&&null!==o&&setTimeout((function(){clearInterval(l),console.log("Карточки не совпали"),s=null,o=null,i({appEl:a,min:e().minEl.innerHTML,sec:e().secEl.innerHTML})}),200)}),400))}))}({img:a,appEl:t,cardsArray:d,src:n.card,resultGame:1})}),5e3)},f=0,b=d;f<b.length;f++)g(u=b[f])}function p(i){i.appEl.innerHTML='\n    <div class="difficultySelection main">\n    <div class="difficultySelection_form">\n        <li class="difficultySelection_form-text">\n            Выбери сложность\n        </li>\n    </div>\n    <div class="prod_checbox">\n        <div class="radio-toolbar">\n            <input\n                class="radio-toolbar_input"\n                type="radio"\n                id="radio1"\n                name="radios"\n                value="radio1"\n                checked\n            />\n            <label for="radio1" class="lableButton1">1</label>\n\n            <input\n                class="radio-toolbar_input"\n                type="radio"\n                id="radio2"\n                name="radios"\n                value="radio2"\n            />\n            <label for="radio2" class="lableButton2">2</label>\n\n            <input\n                class="radio-toolbar_input"\n                type="radio"\n                id="radio3"\n                name="radios"\n                value="radio3"\n            />\n            <label for="radio3" class="lableButton3">3</label>\n        </div>\n    </div>\n    <div>\n        <button class="difficultySelection_form-btn startGame">Старт</button>\n    </div>\n</div>',e().selectBtnOne.addEventListener("click",(function(){n(1),e().lableButton2.classList.remove("active"),e().lableButton3.classList.remove("active"),e().lableButton1.classList.add("active")})),e().selectBtnTwo.addEventListener("click",(function(){n(2),e().lableButton1.classList.remove("active"),e().lableButton3.classList.remove("active"),e().lableButton2.classList.add("active")})),e().selectBtnTree.addEventListener("click",(function(){n(3),e().lableButton1.classList.remove("active"),e().lableButton2.classList.remove("active"),e().lableButton3.classList.add("active")})),e().startGame.addEventListener("click",(function(){1===t()?u({appEl:e().appElement,lvl:t(),pairs:3}):2===t()?u({appEl:e().appElement,lvl:t(),pairs:6}):3===t()&&u({appEl:e().appElement,lvl:t(),pairs:9})}))}p({appEl:e().appElement})})();